/*
========================================================================================================================
**【文件描述】                                        【文件描述】                                        【文件描述】**
========================================================================================================================
**    文件名称: LED.h                                                                                                         
**
**    功能描述:	灯光驱动。
**
**    公    司：蒙发利电子
**
**    项目名称：
**
**    平台信息：
**
**    作    者：Hzy
**
**    其他说明:	
**
**    修改记录:  --------------------------------------------------------------
**
========================================================================================================================
========================================================================================================================
*/
#ifndef  _LED_H
#define  _LED_H

/*
========================================================================================================================
* 【文件包含】                                         【文件包含】                                          【文件包含】
========================================================================================================================
*/
#include "bsp.h"


/*
========================================================================================================================
*【全局宏定义】                                       【全局宏定义】                                       【全局宏定义】
========================================================================================================================
*/
#define  LED_EN                  1


/*
========================================================================================================================
*【全局数据类型定义】                              【全局数据类型定义】                              【全局数据类型定义】
========================================================================================================================
*/
/*
************************************************************************************************************************
* 类型定义 :  灯光动作                                                                            
************************************************************************************************************************
*/
typedef union
{
  uint16_t All;
  struct
  {
    uint8_t       Led         :3;
    uint8_t       Projection  :3;
    uint8_t       Logo        :3;
  }Bit;   
}LedAction_t; 

/*
************************************************************************************************************************
* 类型定义 :  灯光 控制与状态标识                                                                          
************************************************************************************************************************
*/
typedef  union 
{
  struct
  {
    uint8_t            Work                   :1;    /*工作中*/
    uint8_t            Pause                  :5;    /*暂停*/
    uint8_t            Run                    :1;    /*运行*/
    
    uint8_t            LogoWork               :1;    /*工作中*/
    uint8_t            LogoRun                :1;    /*运行*/

    uint8_t            ProjectionWork         :1;    /*工作中*/
    uint8_t            ProjectionRun          :1;    /*运行*/
  }Bit;

  uint8_t All;
}LedCSFlag_t;  /*Control State Flag  控制与状态标识*/

/*
************************************************************************************************************************
* 类型定义 :  灯光操作相关数据结构                                                                           
************************************************************************************************************************
*/
typedef struct
{
  LedCSFlag_t         CSFlag;                   /*控制与状态标识*/
 
  //uint8_t             RGBSetp;                  /*步骤 */ 
  //uint16_t            RGBSetpTimeMs;            /*步骤时间*/ 

}Led_t;



/*
========================================================================================================================
*【对外声明】                                          【对外声明】                                          【对外声明】
========================================================================================================================
*/
/*初始化--------------------------------------*/
Led_t*  Led_Init(void);

/*周期执行--------------------------------------*/
void Led_Handle(void);


/* 对外的接口， 即 其他模块 可对 该模块执行的 控制操作*/
void Led_PauseOn(void);
void Led_PauseOff(void);

void Led_SetWorkState(uint8_t TrueFalse);
void Led_SetLogoWorkState(uint8_t TrueFalse);
void Led_SetProjectionWorkState(uint8_t TrueFalse);
LedCSFlag_t Led_GetCSFlag(void);


#endif
