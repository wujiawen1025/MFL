/*
========================================================================================================================
**【文件描述】                                        【文件描述】                                        【文件描述】**
========================================================================================================================
**    文件名称：ESF_Tmr.h 
**
**    功能描述: 定时执行的处理
**
**    项目名称：Easy SoftWare FrameWork (简单 软件框架)
**
**    平台信息：
**
**    作    者：Hzy
**
**    版    本：V1.0
**
**    其他说明:
**
**    修改记录: --------------------------------------------------------------
**              2015.08    
**              完成 V1.0 版本
**              --------------------------------------------------------------
**              2016.06 
**              升级到V1.1版本。主要是为了简化有关事件和内存分配释放的使用。
**              1、去掉事件内存池相关内容。 
**              2、修改 ESF_Evt_t结构体，增加变量AppendData[1]; 
**              3、修改 ESF_Cfg.h文件，使得配置功能更明了简便。
**
========================================================================================================================
========================================================================================================================
*/
#ifndef ESF_TMR_H
#define ESF_TMR_H


/*
========================================================================================================================
* 【文件包含】                                         【文件包含】                                          【文件包含】
========================================================================================================================
*/
#include "ESF.h"


/*
========================================================================================================================
*【全局宏定义】                                       【全局宏定义】                                       【全局宏定义】
========================================================================================================================
*/


/*
========================================================================================================================
*【全局数据类型定义】                              【全局数据类型定义】                              【全局数据类型定义】
========================================================================================================================
*/
/*
************************************************************************************************************************
* 类型定义 :  定时执行的功能函数，处理结构体。                                                                                  
*             将需要定时执行的函数以数组表的方式组织，定义在Flash（ROM）中，
*             而Flash中的数据是不可改变的，因此用*pTickCount指针指向RAM中可操作的数据。
************************************************************************************************************************
*/
typedef struct
{
  void      (*pTmrExeFunc)(Ticker_t  ExePeriod);  /*要执行的函数*/
  Ticker_t  ExePeriod;                            /*执行周期*/
  Ticker_t  *pTickCount;                          /*指向时间计数变量*/

}ESF_TmrExeFunc_t; 



/*
========================================================================================================================
*【对外声明】                                          【对外声明】                                          【对外声明】
========================================================================================================================
*/
void ESF_TmrExeFuncTabCheck(const ESF_TmrExeFunc_t *pTmrExeFuncTab, uint8_t FuncTabNum, uint8_t TickCountBufNum);
void ESF_TmrExeFuncScheduling(const ESF_TmrExeFunc_t *pTmrExeFuncTab, uint8_t ExeSum);


#endif
